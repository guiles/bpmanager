<html>
<head>
<script type="text/javascript" src= './primitiveTasks.js'></script>
<script type="text/javascript" src= './bpmanager.js'></script>
<script type="text/javascript" src= './recorder.js'></script>
</head>
<body>
<form action="mailto:emaildelaempresaquehaceelformulario@email.com" method="post" enctype="text/plain">
Nombre: <input type="text" name="nombre" size="25" maxlength="50"><br><br>
Apellidos: <input type="text" name="apellidos" size="35" maxlength="100">
<br><br>
Correo electrónico: <input type="text" value="@" name="correo" size="40" maxlength="100">
<br><br>
Población: <input type="text" name="poblacion" size="15" maxlength="50">
<br><br>
Provincia: <input type="text" name="provincia" size="15" maxlength="50">

</form>
<!-- Hago el overlay aca, despues tengo que hacerlo en javascript -->
<style type="text/css">
#div_overlay {
     visibility: hidden;
     position: absolute;
     left: 0px;
     top: 0px;
     width:100%;
     height:100%;
     text-align:center;
     z-index: 1000;
}
#div_overlay div {
     width:300px;
     margin: 100px auto;
     background-color: #fff;
     border:1px solid #000;
     padding:15px;
     text-align:center;
}
</style>
<script type="text/javascript">
function cerrar() {
   // console.debug('click aqui');
    el = document.getElementById("div_overlay");
    el.style.visibility = (el.style.visibility == "visible") ? "hidden" : "visible";
 //alert('cliciicici');
    }
function guardar(x){
    //tomo lo que hay en el div y lo guardo en el LocalStorage
        
        var table_id = document.getElementById("table_id");
        
        console.debug("guarda esto");
        console.debug(table_id.rows[0].cells[0].innerHTML);
        console.debug(table_id.rows[0].cells[1].firstChild.value);

        var id = table_id.rows[0].cells[0].innerHTML;
        var value = table_id.rows[0].cells[1].firstChild.value;
        localStorage.setItem(id,value);
        

        var tr = document.getElementById(id);
        tr.cells[0].innerHTML = id;
        tr.cells[1].innerHTML = value;

        console.debug(localStorage);

        //table_id.rows[0].cells[0]
       // console.debug(x.parentNode);
     /*   var id = table_id.rows[0].cells[0].innerHTML;
        console.debug(id);
        var value = table_id.rows[0].cells[1].firstChild.value;
        console.debug(value);
        localStorage.setItem(id,value);
        
        console.debug(localStorage);

        //Actualizo la tabla -- Traigo el registro a actualizar
        var tr = document.getElementById(id);
        tr.cells[0].innerHTML = id;
        tr.cells[1].innerHTML = value;
        //table_id.rows[0].cells[0].innerHTML = table1_id.rows[x.rowIndex].cells[0].innerHTML;
        //table_id.rows[0].cells[1].firstChild.value = table1_id.rows[x.rowIndex].cells[1].innerHTML;
        
        console.debug(tr.cells);*/
}

</script>

<div id="div_overlay">

     <div>
        <table id="table_id" size="50">
            <tr id="o_1">
                <td></td>
                <td><input type="text" value="" size="35"> </input> </td>
            </tr>

        </table>
        <!--input type="button" value="Close" onClick="overlay(this)"></input-->
     	<a href='#' onClick="cerrar()">close</a>
        <input type="button" value="Save" onClick="guardar(this)"></input>
     </div>

</div>

</body>
<html>